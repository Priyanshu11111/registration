{"ast":null,"code":"import { FormGroup, FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../app/registration.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(api, router) {\n    this.api = api;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.loginForm = new FormGroup({\n      \"email\": new FormControl(null),\n      \"password\": new FormControl(null)\n    });\n    if (this.api.IsloggedIn()) {\n      this.router.navigate(['admin']);\n    }\n  }\n  onSubmit() {\n    const credentials = {\n      email: this.loginForm.value.email,\n      password: this.loginForm.value.password\n    };\n    this.api.authenticateUser(credentials).subscribe(response => {\n      if (response.token) {\n        localStorage.setItem('token', response.token);\n        if (credentials.email === 'superadmin@gmail.com') {\n          this.api.setUserRole(1); // Admin role\n          this.router.navigate(['admin']);\n        } else {\n          this.api.setUserRole(0); // User role\n          this.router.navigate(['user']);\n        }\n      }\n    }, error => {\n      alert('Authentication failed');\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.RegistrationService), i0.ɵɵdirectiveInject(i2.Router));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 24,\n  vars: 2,\n  consts: [[1, \"vh-100\"], [1, \"container-fluid\", \"h-custom\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-md-9\", \"col-lg-6\", \"col-xl-5\"], [\"src\", \"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\", \"alt\", \"Sample image\", 1, \"img-fluid\"], [1, \"col-md-8\", \"col-lg-6\", \"col-xl-4\", \"offset-xl-1\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter email\", 1, \"form-control\"], [\"id\", \"emailHelp\", 1, \"form-text\", \"text-muted\"], [\"for\", \"exampleInputPassword1\"], [\"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Password\", 1, \"form-control\"], [1, \"form-group\", \"form-check\"], [\"type\", \"checkbox\", \"id\", \"exampleCheck1\", 1, \"form-check-input\"], [\"for\", \"exampleCheck1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵelement(4, \"img\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(7, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\", 8);\n      i0.ɵɵtext(10, \"Email address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 9);\n      i0.ɵɵelementStart(12, \"small\", 10);\n      i0.ɵɵtext(13, \"We'll never share your email with anyone else.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 7)(15, \"label\", 11);\n      i0.ɵɵtext(16, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 13);\n      i0.ɵɵelement(19, \"input\", 14);\n      i0.ɵɵelementStart(20, \"label\", 15);\n      i0.ɵɵtext(21, \"Check me out\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"button\", 16);\n      i0.ɵɵtext(23, \"Submit\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective],\n  styles: [\".divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before {\\r\\ncontent: \\\"\\\";\\r\\nflex: 1;\\r\\nheight: 1px;\\r\\nbackground: #eee;\\r\\n}\\r\\n.h-custom[_ngcontent-%COMP%] {\\r\\nheight: calc(100% - 73px);\\r\\n}\\r\\n@media (max-width: 450px) {\\r\\n.h-custom[_ngcontent-%COMP%] {\\r\\nheight: 100%;\\r\\n}\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxXQUFXO0FBQ1gsT0FBTztBQUNQLFdBQVc7QUFDWCxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbIi5kaXZpZGVyOmFmdGVyLFxyXG4uZGl2aWRlcjpiZWZvcmUge1xyXG5jb250ZW50OiBcIlwiO1xyXG5mbGV4OiAxO1xyXG5oZWlnaHQ6IDFweDtcclxuYmFja2dyb3VuZDogI2VlZTtcclxufVxyXG4uaC1jdXN0b20ge1xyXG5oZWlnaHQ6IGNhbGMoMTAwJSAtIDczcHgpO1xyXG59XHJcbkBtZWRpYSAobWF4LXdpZHRoOiA0NTBweCkge1xyXG4uaC1jdXN0b20ge1xyXG5oZWlnaHQ6IDEwMCU7XHJcbn1cclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AACA,SAAOA,SAAS,EAACC,WAAW,QAAO,gBAAgB;;;;;AASnD,OAAM,MAAOC,cAAc;EACzBC,YAAoBC,GAAuB,EAASC,MAAc;IAA9C,QAAG,GAAHD,GAAG;IAA6B,WAAM,GAANC,MAAM;EACxD;EAGJC,QAAQ;IACN,IAAI,CAACC,SAAS,GAAC,IAAIP,SAAS,CAAC;MAC3B,OAAO,EAAC,IAAIC,WAAW,CAAC,IAAI,CAAC;MAC7B,UAAU,EAAC,IAAIA,WAAW,CAAC,IAAI;KAChC,CAAC;IACF,IAAG,IAAI,CAACG,GAAG,CAACI,UAAU,EAAE,EAAC;MACvB,IAAI,CAACH,MAAM,CAACI,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;;EAEnC;EACAC,QAAQ;IACN,MAAMC,WAAW,GAAG;MAClBC,KAAK,EAAE,IAAI,CAACL,SAAS,CAACM,KAAK,CAACD,KAAK;MACjCE,QAAQ,EAAE,IAAI,CAACP,SAAS,CAACM,KAAK,CAACC;KAChC;IAAE,IAAI,CAACV,GAAG,CAACW,gBAAgB,CAACJ,WAAW,CAAC,CAACK,SAAS,CAChDC,QAAa,IAAI;MAChB,IAAIA,QAAQ,CAACC,KAAK,EAAE;QAClBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,QAAQ,CAACC,KAAK,CAAC;QAE7C,IAAIP,WAAW,CAACC,KAAK,KAAK,sBAAsB,EAAE;UAChD,IAAI,CAACR,GAAG,CAACiB,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;UACzB,IAAI,CAAChB,MAAM,CAACI,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;SAChC,MAAM;UACL,IAAI,CAACL,GAAG,CAACiB,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;UACzB,IAAI,CAAChB,MAAM,CAACI,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC;;;IAGpC,CAAC,EACAa,KAAU,IAAI;MACbC,KAAK,CAAC,uBAAuB,CAAC;IAChC,CAAC,CACF;EACD;;AApCWrB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV3BC,kCAAwB;MAIdA,yBACuC;MACzCA,iBAAM;MACNA,8BAAoD;MACpBA;QAAA,OAAYC,cAAU;MAAA,EAAC;MACnDD,+BAAsD;MAAxBA;QAAA,OAAYC,cAAU;MAAA,EAAC;MACnDD,8BAAwB;MACUA,8BAAa;MAAAA,iBAAQ;MACrDA,4BAAwH;MACxHA,kCAAmD;MAAAA,+DAA8C;MAAAA,iBAAQ;MAE3GA,+BAAwB;MACaA,yBAAQ;MAAAA,iBAAQ;MACnDA,6BAA8F;MAChGA,iBAAM;MACNA,gCAAmC;MACjCA,6BAAmE;MACnEA,kCAAoD;MAAAA,6BAAY;MAAAA,iBAAQ;MAE1EA,mCAA8C;MAAAA,uBAAM;MAAAA,iBAAS;;;MAf3DA,eAAuB;MAAvBA,yCAAuB;MACrBA,eAAuB;MAAvBA,yCAAuB","names":["FormGroup","FormControl","LoginComponent","constructor","api","router","ngOnInit","loginForm","IsloggedIn","navigate","onSubmit","credentials","email","value","password","authenticateUser","subscribe","response","token","localStorage","setItem","setUserRole","error","alert","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\New folder\\registration\\src\\app\\login\\login.component.ts","C:\\New folder\\registration\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component,OnInit  } from '@angular/core';\nimport{FormGroup,FormControl} from '@angular/forms';\nimport{RegistrationService}from'../../app/registration.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  constructor(private api:RegistrationService,private router: Router\n  ){}\nloginForm:any;\n\nngOnInit(): void {\n  this.loginForm=new FormGroup({\n    \"email\":new FormControl(null),\n    \"password\":new FormControl(null),\n  });\n  if(this.api.IsloggedIn()){\n    this.router.navigate(['admin']);\n  }  \n};\nonSubmit(){\n  const credentials = {\n    email: this.loginForm.value.email,\n    password: this.loginForm.value.password\n  }; this.api.authenticateUser(credentials).subscribe(\n    (response: any) => {\n      if (response.token) {\n        localStorage.setItem('token', response.token);\n\n        if (credentials.email === 'superadmin@gmail.com') {\n          this.api.setUserRole(1); // Admin role\n          this.router.navigate(['admin']);\n        } else {\n          this.api.setUserRole(0); // User role\n          this.router.navigate(['user']);\n        }\n      }\n    },\n    (error: any) => {\n      alert('Authentication failed');\n    }\n  );\n  }\n}\n\n","<section class=\"vh-100\">\r\n    <div class=\"container-fluid h-custom\">\r\n      <div class=\"row d-flex justify-content-center align-items-center h-100\">\r\n        <div class=\"col-md-9 col-lg-6 col-xl-5\">\r\n          <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\"\r\n            class=\"img-fluid\" alt=\"Sample image\">\r\n        </div>\r\n        <div class=\"col-md-8 col-lg-6 col-xl-4 offset-xl-1\">\r\n          <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\">\r\n            <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\">\r\n              <div class=\"form-group\">\r\n                <label for=\"exampleInputEmail1\">Email address</label>\r\n                <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\">\r\n                <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"exampleInputPassword1\">Password</label>\r\n                <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\">\r\n              </div>\r\n              <div class=\"form-group form-check\">\r\n                <input type=\"checkbox\" class=\"form-check-input\" id=\"exampleCheck1\">\r\n                <label class=\"form-check-label\" for=\"exampleCheck1\">Check me out</label>\r\n              </div>\r\n              <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n            </form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}