{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class RegistrationService {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n  }\n  apiCall() {\n    return this.http.get('http://127.0.0.1:8000/api/customers');\n  }\n  submitData(data) {\n    return this.http.post('http://127.0.0.1:8000/api/customers', data);\n  }\n  deleteUser(id) {\n    return this.http.delete(`http://127.0.0.1:8000/api/customers/${id}`);\n  }\n  editUser(id, data) {\n    return this.http.get(`http://127.0.0.1:8000/api/customers/${id}`, data);\n  }\n  updateUser(id, data) {\n    return this.http.put(`http://127.0.0.1:8000/api/customers/${id}`, data);\n  }\n  checkEmailExists(email) {\n    return this.http.get(`http://127.0.0.1:8000/api/customers?email=${email}`);\n  }\n  authenticateUser(credentials) {\n    return this.http.post('http://127.0.0.1:8000/api/customer/login', credentials);\n  }\n  setToken(token) {\n    localStorage.setItem('token', token);\n  }\n  getToken() {\n    return localStorage.getItem('token');\n  }\n  IsloggedIn() {\n    return localStorage.getItem('token') !== null;\n  }\n  logout() {\n    localStorage.removeItem('token');\n    const userRole = localStorage.getItem('userRole');\n    if (userRole === '1') {\n      this.router.navigate(['admin']);\n    } else {\n      this.router.navigate(['user']);\n    }\n  }\n}\nRegistrationService.ɵfac = function RegistrationService_Factory(t) {\n  return new (t || RegistrationService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n};\nRegistrationService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: RegistrationService,\n  factory: RegistrationService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;;AAQA,OAAM,MAAOA,mBAAmB;EAC9BC,YAAoBC,IAAe,EAASC,MAAa;IAArC,SAAI,GAAJD,IAAI;IAAoB,WAAM,GAANC,MAAM;EAAW;EAC7DC,OAAO;IACL,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAC,qCAAqC,CAAC;EAC7D;EACAC,UAAU,CAACC,IAAQ;IAEjB,OAAO,IAAI,CAACL,IAAI,CAACM,IAAI,CAAC,qCAAqC,EAACD,IAAI,CAAC;EACnE;EACAE,UAAU,CAACC,EAAU;IACnB,OAAO,IAAI,CAACR,IAAI,CAACS,MAAM,CAAC,uCAAuCD,EAAE,EAAE,CAAC;EACtE;EACAE,QAAQ,CAACF,EAAU,EAAEH,IAAS;IAC5B,OAAO,IAAI,CAACL,IAAI,CAACG,GAAG,CAAC,uCAAuCK,EAAE,EAAE,EAAEH,IAAI,CAAC;EACzE;EACAM,UAAU,CAACH,EAAS,EAACH,IAAQ;IAC3B,OAAO,IAAI,CAACL,IAAI,CAACY,GAAG,CAAC,uCAAuCJ,EAAE,EAAE,EAAEH,IAAI,CAAC;EACzE;EACAQ,gBAAgB,CAACC,KAAa;IAC5B,OAAO,IAAI,CAACd,IAAI,CAACG,GAAG,CAAC,6CAA6CW,KAAK,EAAE,CAAC;EAC5E;EACAC,gBAAgB,CAACC,WAAgB;IAC/B,OAAO,IAAI,CAAChB,IAAI,CAACM,IAAI,CAAC,0CAA0C,EAAEU,WAAW,CAAC;EAChF;EACAC,QAAQ,CAACC,KAAa;IACpBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;EACtC;EACAG,QAAQ;IACN,OAAOF,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;EACtC;EACAC,UAAU;IACR,OAAOJ,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC,KAAK,IAAI;EAC/C;EACAE,MAAM;IACJL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;IAChC,MAAMC,QAAQ,GAAGP,YAAY,CAACG,OAAO,CAAC,UAAU,CAAC;IACjD,IAAII,QAAQ,KAAK,GAAG,EAAE;MACpB,IAAI,CAACzB,MAAM,CAAC0B,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;KAChC,MAAM;MACL,IAAI,CAAC1B,MAAM,CAAC0B,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC;;EAElC;;AAzCW7B,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;SAAnBA,mBAAmB;EAAA8B,SAAnB9B,mBAAmB;EAAA+B,YAFlB;AAAM","names":["RegistrationService","constructor","http","router","apiCall","get","submitData","data","post","deleteUser","id","delete","editUser","updateUser","put","checkEmailExists","email","authenticateUser","credentials","setToken","token","localStorage","setItem","getToken","getItem","IsloggedIn","logout","removeItem","userRole","navigate","factory","providedIn"],"sourceRoot":"","sources":["C:\\New folder\\registration\\src\\app\\registration.service.ts"],"sourcesContent":["import {Injectable } from '@angular/core';\nimport{HttpClient,HttpHeaders}from '@angular/common/http'\nimport { Router } from '@angular/router';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RegistrationService {\n  constructor(private http:HttpClient,private router:Router) { }\n  apiCall(){\n    return this.http.get('http://127.0.0.1:8000/api/customers');\n  }\n  submitData(data:any)  \n  {\n    return this.http.post('http://127.0.0.1:8000/api/customers',data);  \n  }\n  deleteUser(id: number) {\n    return this.http.delete(`http://127.0.0.1:8000/api/customers/${id}`);\n  }\n  editUser(id: number, data: any) {\n    return this.http.get(`http://127.0.0.1:8000/api/customers/${id}`, data);\n  }\n  updateUser(id:number,data:any){\n    return this.http.put(`http://127.0.0.1:8000/api/customers/${id}`, data)\n  }\n  checkEmailExists(email: string) {\n    return this.http.get(`http://127.0.0.1:8000/api/customers?email=${email}`);\n  }\n  authenticateUser(credentials: any) {\n    return this.http.post('http://127.0.0.1:8000/api/customer/login', credentials);\n  }\n  setToken(token: string) :void{  \n    localStorage.setItem('token', token);\n  }\n  getToken() :string|null{\n    return localStorage.getItem('token');\n  }\n  IsloggedIn(){\n    return localStorage.getItem('token') !== null;\n  }\n  logout() {\n    localStorage.removeItem('token'); \n    const userRole = localStorage.getItem('userRole');\n    if (userRole === '1') {\n      this.router.navigate(['admin']);\n    } else {\n      this.router.navigate(['user']);\n    }\n  }\n  }\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}